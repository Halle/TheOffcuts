<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Creating an installable Core Media Camera Extension and its container app"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><link rel=stylesheet href=https://theoffcuts.org/css/default.min.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://theoffcuts.org/images/cmio/TechnicalDifficulties.jpg"><meta name=twitter:title content="Getting To Grips With The Core Media IO Camera Extension Part 1 of 3: The Basics"><meta name=twitter:description content="Creating an installable Core Media Camera Extension and its container app"><meta name=twitter:site content="@HalleWinkler"><script src=https://theoffcuts.org/js/highlight.min.js></script>
<script src=https://theoffcuts.org/js/highlightjs-line-numbers.min.js></script>
<script src=https://theoffcuts.org/js/highlightjs-highlight-lines.min.js></script>
<script src=https://theoffcuts.org/js/highlightjs-copy.min.js></script>
<link rel=stylesheet href=https://theoffcuts.org/css/highlightjs-copy.min.css><script>hljs.highlightAll()</script><script>hljs.initLineNumbersOnLoad()</script><meta property="og:title" content="Getting To Grips With The Core Media IO Camera Extension Part 1 of 3: The Basics"><meta property="og:description" content="Creating an installable Core Media Camera Extension and its container app"><meta property="og:type" content="article"><meta property="og:url" content="https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/"><meta property="og:image" content="https://theoffcuts.org/images/cmio/TechnicalDifficulties.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-11T12:00:00+01:00"><meta property="article:modified_time" content="2022-08-11T12:00:00+01:00"><title>Getting To Grips With The Core Media IO Camera Extension Part 1 of 3: The Basics | The Offcuts | Halle Winkler</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.445c23b7e5d2935ea8c919176cd3645d2c65dad2b1ace774c7ae29e0c196769f.css integrity="sha256-RFwjt+XSk16oyRkXbNNkXSxl2tKxrOd0x64p4MGWdp8=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.872f722db03103722766b1cd1f40848bf10cfe95874c977bae2756e226292dbb.js integrity="sha256-hy9yLbAxA3InZrHNH0CEi/EM/pWHTJd7ridW4iYpLbs=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>The Offcuts | Halle Winkler</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/posts/>Posts</a></li><li><a href=/about/>About | Contact</a></li><li><a href=/workwithhalle/>Work with Halle</a></li><li><a href=/privacypolicy/>Privacy Policy</a></li></ul><a href=https://support.apple.com/en-us/HT212978>A thank you from Apple</a><br><br></nav><a href=https://www.twitter.com/hallewinkler><svg class="menu-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000" width="30" height="30" viewBox="0 0 32 32" aria-label="External Link"><path id="twitter-menu-icon" d="M19 3H5A2 2 0 003 5v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-2.534 6.71c.004.099.007.198.007.298.0 3.045-2.318 6.556-6.556 6.556a6.52 6.52.0 01-3.532-1.035 4.626 4.626.0 003.412-.954 2.307 2.307.0 01-2.152-1.6 2.295 2.295.0 001.04-.04 2.306 2.306.0 01-1.848-2.259v-.029c.311.173.666.276 1.044.288a2.303 2.303.0 01-.713-3.076 6.54 6.54.0 004.749 2.407 2.305 2.305.0 013.926-2.101 4.602 4.602.0 001.463-.559 2.31 2.31.0 01-1.013 1.275c.466-.056.91-.18 1.323-.363-.31.461-.7.867-1.15 1.192z"/></svg></a><a href=https://www.github.com/Halle><svg class="menu-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000" width="30" height="30" viewBox="0 0 32 32" aria-label="External Link"><path id="github-menu-icon" xmlns="http://www.w3.org/2000/svg" d="M12 2C6.477 2 2 6.477 2 12c0 4.419 2.865 8.166 6.839 9.489.5.09.682-.218.682-.484.0-.236-.009-.866-.014-1.699-2.782.602-3.369-1.34-3.369-1.34-.455-1.157-1.11-1.465-1.11-1.465-.909-.62.069-.608.069-.608 1.004.071 1.532 1.03 1.532 1.03.891 1.529 2.341 1.089 2.91.833.091-.647.349-1.086.635-1.337-2.22-.251-4.555-1.111-4.555-4.943.0-1.091.39-1.984 1.03-2.682-.103-.254-.447-1.27.097-2.646.0.0.84-.269 2.75 1.025A9.548 9.548.0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.748-1.025 2.748-1.025.546 1.376.202 2.394.1 2.646.64.699 1.026 1.591 1.026 2.682.0 3.841-2.337 4.687-4.565 4.935.359.307.679.917.679 1.852.0 1.335-.012 2.415-.012 2.741.0.269.18.579.688.481A9.997 9.997.0 0022 12c0-5.523-4.477-10-10-10z"/></svg></a><a href=https://www.linkedin.com/in/hallewinkler/><svg class="menu-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000" width="30" height="30" viewBox="0 0 32 32" aria-label="External Link"><path id="linkedin-menu-icon" xmlns="http://www.w3.org/2000/svg" d="M19.7 3H4.3A1.3 1.3.0 003 4.3v15.4A1.3 1.3.0 004.3 21h15.4a1.3 1.3.0 001.3-1.3V4.3A1.3 1.3.0 0019.7 3zM8.339 18.338H5.667v-8.59h2.672v8.59zM7.004 8.574a1.548 1.548.0 11-.002-3.096 1.548 1.548.0 01.002 3.096zm11.335 9.764H15.67v-4.177c0-.996-.017-2.278-1.387-2.278-1.389.0-1.601 1.086-1.601 2.206v4.249h-2.667v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703.0 3.203 1.779 3.203 4.092v4.711z"/></svg></a><a href=https://www.politepix.com/the-offcuts-contact/><svg class="menu-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000" width="30" height="30" viewBox="0 0 32 32" aria-label="External Link"><path id="mail-menu-icon" xmlns="http://www.w3.org/2000/svg" d="M20 4H4A2 2 0 002 6v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 4.236-8 4.882-8-4.882V6h16v2.236z"/></svg></a><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Getting To Grips With The Core Media IO Camera Extension Part 1 of 3: The Basics</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#part-1-of-3-the-basics-creating-an-installable-core-media-camera-extension-and-its-container-app>Part 1 of 3: The Basics: creating an installable Core Media Camera Extension and its container app.</a><ul><li></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#project-configuration>Project configuration</a></li><li><a href=#source-configuration>Source configuration</a></li></ul></li><li><a href=#extro>Extro</a></li></ul></nav><br><br>Share this post:<style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff!important;margin:.5em}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:middle}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#ff4500}.resp-sharing-button--reddit:hover{background-color:#3a80c1}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--tumblr{background-color:#35465c;border-color:#35465c}.resp-sharing-button--tumblr:hover,.resp-sharing-button--tumblr:active{background-color:#222d3c;border-color:#222d3c}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--pinterest{background-color:#bd081c;border-color:#bd081c}.resp-sharing-button--pinterest:hover,.resp-sharing-button--pinterest:active{background-color:#8c0615;border-color:#8c0615}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#ff4500;border-color:#ff4500}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#ff5700;border-color:#ff5700}.resp-sharing-button--xing{background-color:#1a7576;border-color:#1a7576}.resp-sharing-button--xing:hover .resp-sharing-button--xing:active{background-color:#114c4c;border-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366;border-color:#25d366}.resp-sharing-button--whatsapp:hover,.resp-sharing-button--whatsapp:active{background-color:#1da851;border-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60;border-color:#f60}.resp-sharing-button--hackernews:hover .resp-sharing-button--hackernews:active{background-color:#fb6200;border-color:#fb6200}.resp-sharing-button--vk{background-color:#507299;border-color:#507299}.resp-sharing-button--vk:hover .resp-sharing-button--vk:active{background-color:#43648c;border-color:#43648c}.resp-sharing-button--telegram{background-color:#54a9eb}.resp-sharing-button--telegram:hover{background-color:#4b97d1}</style><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=@HalleWinkler posted: Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&url=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/" target=_blank rel=noopener aria-label title=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/&title=Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&summary=Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div></div></a></aside></header><article class=markdown><h1 id=getting-to-grips-with-the-core-media-io-camera-extension-a-3-part-series>Getting To Grips With The Core Media IO Camera Extension, a 3 part series.
<a class=anchor href=#getting-to-grips-with-the-core-media-io-camera-extension-a-3-part-series>#</a></h1><h2 id=part-1-of-3-the-basics-creating-an-installable-core-media-camera-extension-and-its-container-app>Part 1 of 3: The Basics: creating an installable Core Media Camera Extension and its container app.
<a class=anchor href=#part-1-of-3-the-basics-creating-an-installable-core-media-camera-extension-and-its-container-app>#</a></h2><div width=100%><div style=float:left>August 11th, 2022</div><div style=float:right;font-style:italic><a href=#thecode>To the code →</a></div><br></div><h4 id=thecode><a href=https://github.com/Halle/OffcutsCam>View project on Github</a>
<a class=anchor href=#thecode>#</a></h4><p>Welcome to the first in a series of three posts about the <strong><a href=https://developer.apple.com/documentation/coremediaio/creating_a_camera_extension_with_core_media_i_o>Core Media IO Camera Extension</a></strong>. I was delighted by the <a href=https://developer.apple.com/videos/play/wwdc2022-10022>Create camera extensions with Core Media IO</a> WWDC22 video, which is about extensions which can present a system camera for use in any camera-supporting app such as FaceTime, including creative cameras that can take in a feed from an existing camera such as a <a href=https://developer.apple.com/videos/play/wwdc2022/10018/>Continuity Camera Webcam</a> and add effects to it. Still, I wished that it had sample code for the two types of cameras that it discussed, software camera and creative camera with configuration app.</p><p>I wrote myself some sample code, and now I would like to share it, and explain a little about how it works.</p><p>There will be three posts in the series:</p><p>The first post, this one, is about <strong>getting the basics working from the start</strong>,</p><p>the second is about <a href=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-two/><strong>creating a useful software CMIO Camera Extension with communication between a configuration app and an extension <em>and</em> painless extension debugging</strong></a>,</p><p>and the last is about bringing it all together by <strong>building a creative camera with realtime effects processing using <a href=https://developer.apple.com/documentation/accelerate/using_vimage_pixel_buffers_to_generate_video_effects>vImage Pixel Buffers</a>, which can use the Continuity Camera Webcam</strong>.</p><p>Each will build on the previous post. SwiftUI will be the only interface framework used, and there will be no <code>NSViewRepresentable</code>, which is going to get spicy in the final entry when we&rsquo;re observing a camera feed in the configuration app.</p><h3 id=prerequisites>Prerequisites
<a class=anchor href=#prerequisites>#</a></h3><p>Much of this will work in macOS 12.3 and later with Xcode 13, so my <a href=https://github.com/Halle/OffcutsCam>sample app for part 1</a> will build, run and work with them. But, the end result will explore beta APIs, so this series as a whole has been written for the betas. To run all of the code in all three parts:</p><ul><li>Ventura beta 5 or later</li><li>Xcode 14 beta 5 or later</li><li>An iPhone XS or later running iOS 16 beta 5 or later if you want to test a Continuity Camera Webcam camera extension in later parts of this series</li><li>An Apple Developer account so you have a team ID and can codesign, which is already working correctly on your system when you sign other apps. If you&rsquo;ve had some codesign weirdness you&rsquo;ve been ignoring, this isn&rsquo;t the project for working through it, trust me.</li><li>It is certainly a good idea to have looked at the <a href=https://developer.apple.com/videos/play/wwdc2022-10022>WWDC video</a> and the <a href=https://developer.apple.com/documentation/coremediaio/creating_a_camera_extension_with_core_media_i_o>docs</a>, but it isn&rsquo;t a requirement.</li></ul><p>Let&rsquo;s jump in. Here are the instructions for creating a container app and installable CMIO Camera Extension which is a basic software camera (you can also <a href=https://github.com/Halle/OffcutsCam>clone mine from Github or refer to it</a> as you go):</p><h3 id=project-configuration>Project configuration
<a class=anchor href=#project-configuration>#</a></h3><ol><li>Create a new project of type &ldquo;macOS App&rdquo;. Title it &ldquo;OffcutsCam&rdquo;, select your team and organization identifier. Your organization identifier will be different than mine.</li></ol><hr><p><img src=/images/cmio/1a.png alt></p><hr><p><img src=/images/cmio/1b.png alt></p><hr><ol start=2><li>Go to the app target, select <strong>Signing & Capabilities</strong>, and remove &ldquo;Hardened Runtime&rdquo;. Under <strong>App Sandbox</strong>, check &ldquo;Camera&rdquo; and, for debugging purposes only, set &ldquo;User Selected File&rdquo; to &ldquo;Read Only&rdquo;.</li></ol><hr><p><img src=/images/cmio/2a.png alt></p><hr><p><img src=/images/cmio/2b.png alt></p><hr><ol start=3><li>Click the &ldquo;+&rdquo; button at the top left to add a <strong>capability</strong>. Add &ldquo;System Extension&rdquo;.</li></ol><hr><p><img src=/images/cmio/3.png alt></p><hr><ol start=4><li>Now add a target to your project (<code>File->New->Target</code>). Scroll all the way down in the target types to choose &ldquo;Camera Extension&rdquo;. Title it &ldquo;Extension&rdquo;</li></ol><hr><p><img src=/images/cmio/4a.png alt></p><hr><p><img src=/images/cmio/4b.png alt></p><hr><ol start=5><li>Go to the new <strong>extension</strong> target, select <strong>Signing & Capabilities</strong>, and remove &ldquo;Hardened Runtime&rdquo;. Under <strong>App Sandbox</strong>, check &ldquo;Camera&rdquo; and, for debugging purposes only, set &ldquo;User Selected File&rdquo; to &ldquo;Read Only&rdquo;.</li></ol><hr><p><img src=/images/cmio/5a.png alt></p><hr><p><img src=/images/cmio/5b.png alt></p><hr><ol start=6><li>See that the <strong>extension</strong> target has an <strong>App Group</strong>. Change the extension target app group to <code>$(TeamIdentifierPrefix)com.politepix.OffcutsCam</code> but use your organization identifier instead of mine (com.politepix). Copy this app group name.</li></ol><hr><p><img src=/images/cmio/6.png alt></p><hr><ol start=7><li>Now go back to your <strong>app</strong> target, <strong>Signing & Capabilities</strong>, and add the capability &ldquo;App Group&rdquo;. In the new configuration area this adds, click &ldquo;+&rdquo; and add an app group with the identical app group name as the extension <code>($(TeamIdentifierPrefix)com.politepix.OffcutsCam</code> (but with your organization identifier instead of mine). Both of these targets are allowed to communicate with each other via this <strong>App Group</strong>, and are now able to, and we will make use of this in the following two posts.</li></ol><hr><p><img src=/images/cmio/7.png alt></p><hr><ol start=8><li>Still in your app target, go to <strong>Info</strong> and add the key <code>Privacy - Camera Usage Description</code> with a description of <code>Camera Extension</code> and while you&rsquo;re here, just to avoid a distracting warning later, add the key <code>App Category</code> and set it to <code>Utilities</code>.</li></ol><hr><p><img src=/images/cmio/8a.png alt></p><hr><p><img src=/images/cmio/8b.png alt></p><hr><ol start=9><li>Switching to your <strong>extension</strong> target, go to <strong>Info</strong> and add the key <code>Privacy - Camera Usage Description</code> with a description of <code>Camera Extension</code>. There should be a key entitled <code>Privacy - System Extension Usage Description</code> (if there isn&rsquo;t, create it). Add the description <code>Camera Extension</code> to it.</li></ol><hr><p><img src=/images/cmio/9a.png alt></p><hr><p><img src=/images/cmio/9b.png alt></p><hr><ol start=10><li>In the <strong>extension</strong> target, under <strong>Info</strong>, there should be a key <code>CMIOExtension</code> which is a dictionary. It should contain a key <code>CMIOExtensionMachServiceName</code>. The value of this key should be <code>$(TeamIdentifierPrefix)$(PRODUCT_BUNDLE_IDENTIFIER)</code>. Change it to <code>$(TeamIdentifierPrefix)com.politepix.OffcutsCam </code>(but with your organization identifier instead of mine).</li></ol><hr><p><img src=/images/cmio/10.png alt></p><hr><p>Now, theoretically, doing these steps in this order should result in a properly-configured Container App and Embedded System Extension, where the container app is allowed to install its embedded system extension into macOS. To verify this, you can check the following things in your entitlements files:</p><p>App entitlements should have a <code>System Extension</code> key set to <code>YES</code>. It should have an <code>App Groups</code> array with the first element the string <code>$(TeamIdentifierPrefix)com.politepix.OffcutsCam</code> but with your organization identifier instead of mine. It should have a key <code>Camera</code> set to <code>YES</code>. Here is a screenshot:</p><hr><p><img src=/images/cmio/AppEntitlements.png alt></p><hr><p>Extension entitlements should have an identical <code>App Groups</code> array. It should have a key <code>Camera</code> set to <code>YES</code>. Here is a screenshot:</p><hr><p><img src=/images/cmio/ExtensionEntitlements.png alt></p><hr><p>The app target&rsquo;s <strong>General</strong> pane should show the extension as embedded &ldquo;(Embed Without Signing)&rdquo; under <strong>Frameworks, Libraries, and Embedded Content</strong>.</p><hr><p><img src=/images/cmio/embed.png alt></p><hr><p>If any of these aren&rsquo;t right, review and see if you set things up correctly. You can compare to my <a href=https://github.com/Halle/OffcutsCam>completed version</a>.</p><p>If this looks good, you can build and run. You should see a &ldquo;Hello, world!&rdquo; app. You can quit it. Go to <code>Xcode->Product->Show Build Folder in Finder</code> and find your product <code>OffcutsCam.app</code>, and right-click and choose <code>Show Package Contents</code> the package and verify that you can see the extension inside of it like in this screenshot.</p><hr><p><img src=/images/cmio/Package.png alt></p><hr><p>OK, <strong>stretch your legs for a moment</strong> and we&rsquo;ll start configuring the extension and app source.</p><p>Ready?</p><h3 id=source-configuration>Source configuration
<a class=anchor href=#source-configuration>#</a></h3><ol><li><p>Open <code>ExtensionProvider.swift</code> in the editor. This is where the input and output streams for the camera extension are managed. Apple is kind enough to provide a 100% known-working software camera in all fresh ExtensionProviders. I love that they do this.</p></li><li><p>Do a search and replace in this file for every occurrence of <code>SampleCapture</code> and change it to <code>OffcutsCam</code>. Change the occurrence of <code>OffcutsCam (Swift)</code> to just <code>OffcutsCam</code>. This is how we are letting the system and the user know which camera this is. That&rsquo;s it for <code>ExtensionProvider.swift</code>, for this post (there will be much more <code>ExtensionProvider</code> in the following two posts). But for now, we want to get this default software camera extension fully working so we have a clean canvas to paint on.</p></li><li><p>Next, we will use Brad Ford&rsquo;s onscreen sample code for extension install and uninstall from <a href=https://developer.apple.com/videos/play/wwdc2022-10022>Create camera extensions with Core Media IO
</a>, adding it to our container app. First, add <code>import SystemExtensions</code> at the top of the App&rsquo;s file <code>ContentView.swift</code>.</p></li></ol><p>Then, add the following class to <code>ContentView.swift</code> (my only addition here was more verbose error logging):</p><pre tabindex=0><code>class SystemExtensionRequestManager: NSObject, ObservableObject {
    @Published var logText: String = &#34;Installation results here&#34;

    init(logText: String) {
        super.init()
        self.logText = logText
    }

    func install() {
        guard let extensionIdentifier = _extensionBundle().bundleIdentifier else { return }
        let activationRequest = OSSystemExtensionRequest.activationRequest(forExtensionWithIdentifier: extensionIdentifier, queue: .main)
        activationRequest.delegate = self
        OSSystemExtensionManager.shared.submitRequest(activationRequest)
    }

    func uninstall() {
        guard let extensionIdentifier = _extensionBundle().bundleIdentifier else { return }
        let deactivationRequest = OSSystemExtensionRequest.deactivationRequest(forExtensionWithIdentifier: extensionIdentifier, queue: .main)
        deactivationRequest.delegate = self
        OSSystemExtensionManager.shared.submitRequest(deactivationRequest)
    }

    func _extensionBundle() -&gt; Bundle {
        let extensionsDirectoryURL = URL(fileURLWithPath: &#34;Contents/Library/SystemExtensions&#34;, relativeTo: Bundle.main.bundleURL)
        let extensionURLs: [URL]
        do {
            extensionURLs = try FileManager.default.contentsOfDirectory(at: extensionsDirectoryURL, includingPropertiesForKeys: nil, options: .skipsHiddenFiles)
        } catch {
            fatalError(&#34;failed to get the contents of \(extensionsDirectoryURL.absoluteString): \(error.localizedDescription)&#34;)
        }
        guard let extensionURL = extensionURLs.first else {
            fatalError(&#34;failed to find any system extensions&#34;)
        }
        guard let extensionBundle = Bundle(url: extensionURL) else {
            fatalError(&#34;failed to create a bundle with URL \(extensionURL.absoluteString)&#34;)
        }
        return extensionBundle
    }
}

extension SystemExtensionRequestManager: OSSystemExtensionRequestDelegate {
    public func request(_ request: OSSystemExtensionRequest, actionForReplacingExtension existing: OSSystemExtensionProperties, withExtension ext: OSSystemExtensionProperties) -&gt; OSSystemExtensionRequest.ReplacementAction {
        logText = &#34;Replacing extension version \(existing.bundleShortVersion) with \(ext.bundleShortVersion)&#34;
        return .replace
    }

    public func requestNeedsUserApproval(_ request: OSSystemExtensionRequest) {
        logText = &#34;Extension needs user approval&#34;
    }

    public func request(_ request: OSSystemExtensionRequest, didFinishWithResult result: OSSystemExtensionRequest.Result) {
        switch result.rawValue {
        case 0:
            logText = &#34;\(request) did finish with success&#34;
        case 1:
            logText = &#34;\(request) Extension did finish with result success but requires reboot&#34;
        default:
            logText = &#34;\(request) Extension did finish with result \(result)&#34;
        }
    }

    public func request(_ request: OSSystemExtensionRequest, didFailWithError error: Error) {
        let errorCode = (error as NSError).code
        var errorString = &#34;&#34;
        switch errorCode {
        case 1:
            errorString = &#34;unknown error&#34;
        case 2:
            errorString = &#34;missing entitlement&#34;
        case 3:
        	errorString = &#34;Container App for Extension has to be in /Applications to install Extension.&#34;
        case 4:
            errorString = &#34;extension not found&#34;
        case 5:
            errorString = &#34;extension missing identifier&#34;
        case 6:
            errorString = &#34;duplicate extension identifer&#34;
        case 7:
            errorString = &#34;unknown extension category&#34;
        case 8:
            errorString = &#34;code signature invalid&#34;
        case 9:
            errorString = &#34;validation failed&#34;
        case 10:
            errorString = &#34;forbidden by system policy&#34;
        case 11:
            errorString = &#34;request canceled&#34;
        case 12:
            errorString = &#34;request superseded&#34;
        case 13:
            errorString = &#34;authorization required&#34;
        default:
            errorString = &#34;unknown code&#34;
        }
        logText = &#34;Extension did fail with error: \(errorString)&#34;
    }


}
</code></pre><p>in your <code>ContentView</code>, add this <code>var</code>:
<code>@ObservedObject var systemExtensionRequestManager: SystemExtensionRequestManager</code></p><p>and this view content:</p><pre tabindex=0><code>     VStack {
            Button(&#34;Install&#34;, action: {
                systemExtensionRequestManager.install()
            })
            Button(&#34;Uninstall&#34;, action: {
                systemExtensionRequestManager.uninstall()
            })
        }
        Text(systemExtensionRequestManager.logText)
    }
     
</code></pre><p>Change the calls in the container app that load ContentView to load it with its new <code>SystemExtensionRequestManager</code> and let&rsquo;s give the frame a minimum size:</p><pre tabindex=0><code>ContentView(systemExtensionRequestManager: SystemExtensionRequestManager(logText: &#34;Starting container app&#34;))
.frame(minWidth: 300, minHeight: 180)
</code></pre><p>Now build and run the app again. You should see a UI with an <code>Install</code> and an <code>Uninstall</code> button.</p><p>Click &ldquo;Install&rdquo; and see that you get an informative error that the container app isn&rsquo;t in <code>/Applications</code>. System extensions have to be installed from a container app in <code>/Applications</code> to be acceptable to the system.</p><p>Let&rsquo;s make things easy on ourselves and set things up so the builds are moved to <code>/Applications</code> so we can install the codesigned extension like an enduser would, but without too much bother.</p><p>Let&rsquo;s edit the scheme for OffcutsCam.app. In the left column under <code>Build</code>, which we can open with the disclosure triangle, add a Post-Action &ldquo;Run Script Action&rdquo; script reading <code>ditto "${CODESIGNING_FOLDER_PATH}" "/Applications/${FULL_PRODUCT_NAME}"</code>. This will copy our app into <code>/Applications</code> once all building and signing is complete.</p><hr><p><img src=/images/cmio/scheme.png alt></p><hr><p>Close the scheme, and build and run. Check <code>/Applications</code> and verify that <code>OffcutsCam.app</code> is in there.</p><p>Next, edit the app scheme a second time, and this time choose <code>Run</code>, and change the Executable. Select &ldquo;Other&rdquo;, and then navigate to your <code>/Applications</code> folder and select your build of <code>OffcutsCam.app</code> that is now there. We&rsquo;ve told the debugger to attach to our copy in <code>/Applications</code> instead of the one in <code>DerivedData</code>.</p><hr><p><img src=/images/cmio/scheme2.png alt></p><hr><p>With these steps complete, if you build and run <code>OffcutsCam.app</code> (we never need to run the extension directly), you should be able to click &ldquo;Install&rdquo; in the app UI and do an installation of your extension. The app should log that the extension needs user approval and macOS should show an alert saying &ldquo;System Extension Blocked&rdquo;. That&rsquo;s great! That&rsquo;s how it&rsquo;s supposed to work.</p><hr><p><img src=/images/cmio/approval.png alt></p><hr><p><img src=/images/cmio/blocked.png alt></p><hr><p>Click &ldquo;Open System Settings&rdquo; on that alert (if you clicked &ldquo;OK&rdquo; instead that&rsquo;s fine, go ahead and open the System Settings.app section &ldquo;Security & Privacy&rdquo;). Scroll down until you see the notification <code>System software from application "OffcutsCam" was blocked from loading</code> and click <code>Allow</code>.</p><hr><p><img src=/images/cmio/notification.png alt></p><hr><p>Authenticate to install. Now the extension should be installed in your system. You can verify this by opening FaceTime. Under the <code>Video</code> menu you should see OffcutsCam as an offered camera. If you select it, you should see a black screen with a white line moving up and down it. Congrats! Your first CMIO Camera Extension.</p><p>We have taken pains to get codesigned extension installation working from the start so that we don&rsquo;t need to debug this area of the project while debugging other complexities later on such as interprocess communication and realtime video processing.</p><p><strong>Note</strong>: if you start getting a codesigning error that the extension doesn&rsquo;t match the app when building or running, or similar intermittent complaining at build that doesn&rsquo;t seem 100% believable, this can be fixed by navigating to the app&rsquo;s <code>Build Phases</code>, and under your &ldquo;Copy Files&rdquo; phase that moves the executable to <code>/Applications</code>, checking &ldquo;Copy only when installing&rdquo;, building and running, and then unchecking it again and building and running. Sometimes this ca be resolved simply by first building without running, then doing a build and run. This fragility is not great, but I think it&rsquo;s preferable to building and running in <code>DerivedData</code> where we can&rsquo;t install from, or turning off SIP in order to disable the install location/codesigning requirements.</p><p>And that brings us to the conclusion of part one of this series: we have created a <strong>Container App</strong> which can install and uninstall a working <strong>Core Media IO Camera System Extension</strong> that can be selected in FaceTime, and we have removed one big pain point already, which is testing this behavior with full codesigning while still being able to do a normal build and run.</p><p>My working version can be seen <a href=https://github.com/Halle/OffcutsCam>here</a>, so if you are getting weird results, you can compare them.</p><p>Once you have things working, if you want to play with the extension provider code (and if you like video code, you probably do), be aware that to see software changes in your extension, you currently have to uninstall the old extension using your container app, then reboot, then build and run your new container app iteration, then install the changed extension. This is also currently the case if you follow the <a href=https://developer.apple.com/documentation/driverkit/debugging_and_testing_system_extensions>debugging advice</a> for loading a new extension iteration without reversioning it (i.e., turning off SIP and turning on developer mode will not help with this). If I understand correctly, there is no way currently to securely replace the extension process in a single user session in which there has already been an extension install and activation, so a reboot is necessary.</p><p>This reboot-a-rama is the pain point we are going to remove next, in <a href=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-two/><strong>Core Media IO Camera Extensions part 2 of 3: Creating a useful software CMIO Camera Extension with communication between a configuration app and an extension <em>and</em> painless extension debugging</strong></a>.</p><h2 id=extro>Extro
<a class=anchor href=#extro>#</a></h2><p>✂ - - Non-code thoughts, please stop reading here for the code-only experience - - ✂</p><p>Since we&rsquo;re combining system extensions, video code, and codesigning, i.e. discussing pain, I thought it might be a good opportunity for some stoic philosophy.</p><p>There were three big stoics whose work we know about; <a href=https://plato.stanford.edu/entries/seneca/>Seneca</a>, Epictetus and Marcus Aurelius. I&rsquo;m not crazy about Seneca. <a href=https://plato.stanford.edu/entries/marcus-aurelius/>Marcus Aurelius</a> had some very helpful things to say, but he was an extraordinarily powerful man who has become a sort of aspirational lifestyle stoic: philosopher most likely to be cited in a LinkedIn post. For me, <a href=https://plato.stanford.edu/entries/epictetus/>Epictetus</a> is the most interesting. An ancient Greek philosopher, a onetime slave, someone who had to avoid anti-philosopher purges now and again – you&rsquo;re reading a blog post about camera extensions so it&rsquo;s pretty likely that you and I are in the same lucky club of people who have no conception of the perils and problems he experienced, and it&rsquo;s pretty moving to be able to hear his thoughts on how to think about them millenia later.</p><p>Anyway he had this one piece of advice from <a href="https://books.google.de/books?id=johjDwAAQBAJ&pg=PT35&lpg=PT35&dq=%22Well,+what+is+the+price+for+heads+of+lettuce?%22&source=bl&ots=H85whzW9QV&sig=ACfU3U0BdFyJAeU3uqQ5ki6Rt1U0gQjAFg&hl=en&sa=X&ved=2ahUKEwjukLq9u775AhXOMewKHSPlD4IQ6AF6BAgEEAM#v=onepage&q=%22Well%2C%20what%20is%20the%20price%20for%20heads%20of%20lettuce%3F%22&f=false">the Encheiridion</a> (&ldquo;The Handbook&rdquo;) that I think of a lot when I look at our industry. Epictetus is talking about how people jockey to do favors for the powerful, and the way it helps them rise in social or academic status, and that you, philosopher he is addressing, also want this status, but without all the ass-kissing, because it&rsquo;s immoral. And he says (slightly modernized from W.A. Oldfather translation):</p><p>&ldquo;Well, what is the price of a head of lettuce? A dollar perhaps. If, then, somebody gives up his dollar and gets his head of lettuce, while you do not give your dollar, and do not get it, do not imagine that you are worse off than the man who gets his lettuce. For as he has his head of lettuce, so you have your dollar which you have not given away.&rdquo;</p><p>There are a few points here. First of all, if you really <em>believe</em> this kind of status-seeking is immoral, then you haven&rsquo;t lost anything, and it&rsquo;s important to notice that – it can be difficult to notice because there are a lot of signals from our society which say that status is more important than values. You still have your morality, which should have a very high value to you, so that is actually a good deal. If it still feels like a bad deal, you may have a different opinion of the morality of the situation, or morality in general, than you think you do, or (more likely, in my experience) you may have substituted someone else&rsquo;s opinion for your own.</p><p>Second, IMO Epictetus is making a little joke by comparing status and morality to lettuce, and the amount of money that lettuce costs, respectively.</p><p>Third, there&rsquo;s an unspoken implication that either can still be chosen differently. Exchanging a dollar for lettuce is easier than exchanging lettuce for a dollar, granted – that is part of his point. But, you could sell your lettuce for a dollar or return it for your original dollar. You could spend your dollar on lettuce. Because of this, his main point is that you shouldn&rsquo;t complain, primarily if you have a dollar but no lettuce, which he thought was the better deal, but perhaps also if you have a lettuce and no dollar. Change the deal to the one you can live with, or accept your decision, but don&rsquo;t lose your limited time envying people who have something you decided that you don&rsquo;t want.</p><p>In the context of tech, I often think about this advice, not in terms of social status, which isn&rsquo;t a giant influence in the life of software developers (although it is, of course, in the mix), but more in terms of the question of what problems we choose to use our skills to solve and for what compensations, and how we feel about our choices.</p><hr><hr>Share this post:<style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff!important;margin:.5em}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:middle}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#ff4500}.resp-sharing-button--reddit:hover{background-color:#3a80c1}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--tumblr{background-color:#35465c;border-color:#35465c}.resp-sharing-button--tumblr:hover,.resp-sharing-button--tumblr:active{background-color:#222d3c;border-color:#222d3c}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--pinterest{background-color:#bd081c;border-color:#bd081c}.resp-sharing-button--pinterest:hover,.resp-sharing-button--pinterest:active{background-color:#8c0615;border-color:#8c0615}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#ff4500;border-color:#ff4500}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#ff5700;border-color:#ff5700}.resp-sharing-button--xing{background-color:#1a7576;border-color:#1a7576}.resp-sharing-button--xing:hover .resp-sharing-button--xing:active{background-color:#114c4c;border-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366;border-color:#25d366}.resp-sharing-button--whatsapp:hover,.resp-sharing-button--whatsapp:active{background-color:#1da851;border-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60;border-color:#f60}.resp-sharing-button--hackernews:hover .resp-sharing-button--hackernews:active{background-color:#fb6200;border-color:#fb6200}.resp-sharing-button--vk{background-color:#507299;border-color:#507299}.resp-sharing-button--vk:hover .resp-sharing-button--vk:active{background-color:#43648c;border-color:#43648c}.resp-sharing-button--telegram{background-color:#54a9eb}.resp-sharing-button--telegram:hover{background-color:#4b97d1}</style><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=@HalleWinkler posted: Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&url=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/" target=_blank rel=noopener aria-label title=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/&title=Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&summary=Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div></div></a></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#part-1-of-3-the-basics-creating-an-installable-core-media-camera-extension-and-its-container-app>Part 1 of 3: The Basics: creating an installable Core Media Camera Extension and its container app.</a><ul><li></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#project-configuration>Project configuration</a></li><li><a href=#source-configuration>Source configuration</a></li></ul></li><li><a href=#extro>Extro</a></li></ul></nav><br><br>Share this post:<style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff!important;margin:.5em}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:middle}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#ff4500}.resp-sharing-button--reddit:hover{background-color:#3a80c1}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--tumblr{background-color:#35465c;border-color:#35465c}.resp-sharing-button--tumblr:hover,.resp-sharing-button--tumblr:active{background-color:#222d3c;border-color:#222d3c}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--pinterest{background-color:#bd081c;border-color:#bd081c}.resp-sharing-button--pinterest:hover,.resp-sharing-button--pinterest:active{background-color:#8c0615;border-color:#8c0615}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#ff4500;border-color:#ff4500}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#ff5700;border-color:#ff5700}.resp-sharing-button--xing{background-color:#1a7576;border-color:#1a7576}.resp-sharing-button--xing:hover .resp-sharing-button--xing:active{background-color:#114c4c;border-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366;border-color:#25d366}.resp-sharing-button--whatsapp:hover,.resp-sharing-button--whatsapp:active{background-color:#1da851;border-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60;border-color:#f60}.resp-sharing-button--hackernews:hover .resp-sharing-button--hackernews:active{background-color:#fb6200;border-color:#fb6200}.resp-sharing-button--vk{background-color:#507299;border-color:#507299}.resp-sharing-button--vk:hover .resp-sharing-button--vk:active{background-color:#43648c;border-color:#43648c}.resp-sharing-button--telegram{background-color:#54a9eb}.resp-sharing-button--telegram:hover{background-color:#4b97d1}</style><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=@HalleWinkler posted: Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&url=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/" target=_blank rel=noopener aria-label title=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/&title=Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&summary=Getting%20To%20Grips%20With%20The%20Core%20Media%20IO%20Camera%20Extension%20Part%201%20of%203%3a%20The%20Basics&https://theoffcuts.org/posts/core-media-io-camera-extensions-part-one/" target=_blank rel=noopener aria-label><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div></div></a></div></aside></main></body></html>